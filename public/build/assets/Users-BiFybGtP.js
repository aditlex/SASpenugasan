import{r as i,m as D,j as e,L as S}from"./app-CCx1_5AL.js";import{B as o}from"./createLucideIcon-97oO_UI0.js";import{C as E,a as k,b as I,c as P}from"./card-DCeA-H6Z.js";import{D as z,a as A,b as O,c as B,d as F,T as H}from"./textarea-CpYgA8qf.js";import{L as j,I as M}from"./label-BOpjg2w3.js";import{A as _}from"./app-layout-w90uDOo5.js";import{C as q,a as R}from"./circle-x-C22NvTi_.js";import{P as U}from"./plus--nzMJp20.js";import{P as X,T as $}from"./trash-2-BEL3486h.js";import"./index-D0LANlit.js";import"./index-DwheMYVf.js";const G=[{title:"create new list",href:"/admin/users"}];function ae({lists:g,flash:t}){const[f,r]=i.useState(!1),[a,d]=i.useState(null),[c,n]=i.useState(!1),[N,m]=i.useState(""),[u,x]=i.useState("success");i.useEffect(()=>{t!=null&&t.success?(m(t.success),x("success"),n(!0)):t!=null&&t.error&&(m(t.error),x("error"),n(!0))},[t]),i.useEffect(()=>{if(c){const s=setTimeout(()=>{n(!1)},3e3);return()=>clearTimeout(s)}},[c]);const{data:p,setData:l,post:v,put:w,processing:C,reset:h,delete:T}=D({title:"",description:""}),b=s=>{s.preventDefault(),a?w(route("lists.update",a.id),{onSuccess:()=>{r(!1),h(),d(null)}}):v(route("lists.store"),{onSuccess:()=>{r(!1),h()}})},y=s=>{d(s),l({title:s.title,description:s.description||""}),r(!0)},L=s=>{T(route("lists.destroy",s))};return e.jsxs(_,{breadcrumbs:G,children:[e.jsx(S,{title:"Lists"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[c&&e.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-center gap-2 rounded-lg p-4 shadow-lg ${u==="success"?"bg-green-500":"bg-red-500"} animate-in fade-in slide-in-from-top-5 text-white`,children:[u==="success"?e.jsx(q,{className:"h-5 w-5"}):e.jsx(R,{className:"h-5 w-5"}),e.jsx("span",{children:N})," "]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Lists"})," ",e.jsxs(z,{open:f,onOpenChange:r,children:[e.jsxs(A,{children:[e.jsxs(o,{children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),"New List"]})," "]})," ",e.jsxs(O,{children:[e.jsxs(B,{children:[e.jsx(F,{children:a?"Edit List":"Create New List"})," "]})," ",e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"title",children:"Title"})," ",e.jsx(M,{id:"title",value:p.title,onChange:s=>l("title",s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"description",children:"Description"})," ",e.jsx(H,{id:"description",value:p.description,onChange:s=>l("description",s.target.value)})]})," ",e.jsx(o,{type:"submit",disabled:C,children:a?"Update":"Create"})," "]})," "]})," "]})," "]}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:g.map(s=>e.jsxs(E,{className:"hover:bg-accent/50 transition-colors",children:[e.jsxs(k,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(I,{className:"text-lg font-medium",children:s.title})," ",e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{variant:"ghost",size:"icon",onClick:()=>y(s),children:e.jsx(X,{className:"h-4 w-4"})})," ",e.jsx(o,{variant:"ghost",size:"icon",onClick:()=>{window.confirm("Are you sure you want to delete this list?")&&L(s.id)},className:"text-destructive hover:text-destructive/90",children:e.jsx($,{className:"h-4 w-4"})})]})]})," ",e.jsxs(P,{children:[e.jsx("p",{className:"text-muted-foreground text-sm",children:s.description||"No description"}),s.tasks_count!==void 0&&e.jsxs("p",{className:"text-muted-foreground mt-2 text-sm",children:[s.tasks_count," Tasks "]})]})," "]},s.id))})]})," "]})}export{ae as default};
