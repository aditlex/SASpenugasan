import{r as i,m as D,j as e,L as S}from"./app-CCx1_5AL.js";import{B as l}from"./createLucideIcon-97oO_UI0.js";import{C as k,a as E,b as I,c as z}from"./card-DCeA-H6Z.js";import{D as M,a as O,b as A,c as B,d as F,T as H}from"./textarea-CpYgA8qf.js";import{L as g,I as P}from"./label-BOpjg2w3.js";import{A as _}from"./app-layout-w90uDOo5.js";import{C as q,a as R}from"./circle-x-C22NvTi_.js";import{P as U,T as X}from"./trash-2-BEL3486h.js";import"./index-D0LANlit.js";import"./index-DwheMYVf.js";const $=[{title:"Make Lists",href:"/lists2"}];function te({lists:j,flash:t}){const[f,r]=i.useState(!1),[a,d]=i.useState(null),[c,o]=i.useState(!1),[N,m]=i.useState(""),[u,x]=i.useState("success");i.useEffect(()=>{t!=null&&t.success?(m(t.success),x("success"),o(!0)):t!=null&&t.error&&(m(t.error),x("error"),o(!0))},[t]),i.useEffect(()=>{if(c){const s=setTimeout(()=>{o(!1)},3e3);return()=>clearTimeout(s)}},[c]);const{data:p,setData:n,post:v,put:C,processing:T,reset:h,delete:b}=D({title:"",description:""}),L=s=>{s.preventDefault(),a?C(route("lists.update",a.id),{onSuccess:()=>{r(!1),h(),d(null)}}):v(route("lists.store"),{onSuccess:()=>{r(!1),h()}})},w=s=>{d(s),n({title:s.title,description:s.description||""}),r(!0)},y=s=>{b(route("lists.destroy",s))};return e.jsxs(_,{breadcrumbs:$,children:[e.jsx(S,{title:"Lists"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[c&&e.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-center gap-2 rounded-lg p-4 shadow-lg ${u==="success"?"bg-green-500":"bg-red-500"} animate-in fade-in slide-in-from-top-5 text-white`,children:[u==="success"?e.jsx(q,{className:"h-5 w-5"}):e.jsx(R,{className:"h-5 w-5"}),e.jsx("span",{children:N})," "]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Lists"})," ",e.jsxs(M,{open:f,onOpenChange:r,children:[e.jsx(O,{})," ",e.jsxs(A,{children:[e.jsxs(B,{children:[e.jsx(F,{children:a?"Edit List":"Create New List"})," "]})," ",e.jsxs("form",{onSubmit:L,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"title",children:"Title"})," ",e.jsx(P,{id:"title",value:p.title,onChange:s=>n("title",s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"description",children:"Description"})," ",e.jsx(H,{id:"description",value:p.description,onChange:s=>n("description",s.target.value)})]})," ",e.jsx(l,{type:"submit",disabled:T,children:a?"Update":"Create"})," "]})," "]})," "]})," "]}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:j.map(s=>e.jsxs(k,{className:"hover:bg-accent/50 transition-colors",children:[e.jsxs(E,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(I,{className:"text-lg font-medium",children:s.title})," ",e.jsxs("div",{className:"flex gap-2",children:[e.jsx(l,{variant:"ghost",size:"icon",onClick:()=>w(s),children:e.jsx(U,{className:"h-4 w-4"})})," ",e.jsx(l,{variant:"ghost",size:"icon",onClick:()=>y(s.id),className:"text-destructive hover:text-destructive/90",children:e.jsx(X,{className:"h-4 w-4"})})]})]})," ",e.jsxs(z,{children:[e.jsx("p",{className:"text-muted-foreground text-sm",children:s.description||"No description"}),s.tasks_count!==void 0&&e.jsxs("p",{className:"text-muted-foreground mt-2 text-sm",children:[s.tasks_count," Tasks "]})]})," "]},s.id))})]})," "]})}export{te as default};
